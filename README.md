# Watch Films

Веб-приложение для просмотра фильмов и сериалов с использованием Kinopoisk API и плеера Kinobox.

## Возможности

- Поиск фильмов и сериалов по названию
- Просмотр подробной информации о фильме/сериале
- Встроенный плеер с множеством источников видео
- Автоматическая смена фоновых изображений
- Поддержка высококачественных постеров и логотипов

## Требования

- Node.js 14.x или выше
- NPM 6.x или выше

## Установка

1. Клонируйте репозиторий:

```bash
git clone [url-репозитория]
cd watch-films
```

2. Установите зависимости:

```bash
npm install
```

3. Настройте конфигурацию:

- Откройте файл `config.js`
- Укажите свой API ключ Kinopoisk API (получить можно на https://kinopoisk.dev)
- При необходимости измените порт и хост сервера

## Запуск

Для разработки:

```bash
npm run dev
```

Для production:

```bash
npm start
```

Приложение будет доступно по адресу: http://localhost:3060

## Настройка брандмауэра Windows

Чтобы открыть доступ к приложению по сети:

1. Откройте "Брандмауэр Защитника Windows" (Windows Defender Firewall)
2. Нажмите "Дополнительные параметры" слева
3. Выберите "Правила для входящего подключения" слева
4. Нажмите "Создать правило" справа
5. Выберите тип правила "Для порта"
6. Выберите протокол TCP и укажите порт из вашего config.js (по умолчанию 3060)
7. Выберите "Разрешить подключение"
8. Выберите все профили (Доменный, Частный, Публичный)
9. Задайте имя правила, например "Watch Films App"

После этого приложение будет доступно по локальной сети по адресу http://<IP-адрес>:<порт>

## API Endpoints

- `GET /watch` - страница просмотра фильма
- `GET /info` - страница с информацией о фильме
- `POST /command` - API для управления просмотром
- `GET /ping` - проверка работоспособности сервера

## Команды API

Отправляются на endpoint `/command`:

- `searchMovie` - поиск и запуск фильма
- `closeAllBrowsers` - закрытие всех окон просмотра
- `isMovieOpened` - проверка открытых окон просмотра

## Структура проекта

```
watch-films/
├── src/
│   ├── app/
│   │   ├── controllers/    # Контроллеры
│   │   ├── services/       # Сервисы
│   │   └── views/         # Шаблоны и статические файлы
│   ├── app.js            # Точка входа приложения
│   └── server.js         # Конфигурация сервера
├── config.js             # Конфигурация приложения
├── package.json
└── README.md
```

## Лицензия

MIT
